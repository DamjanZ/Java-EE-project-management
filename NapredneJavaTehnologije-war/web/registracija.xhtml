<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
          
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Registracija</title>
    </h:head>
    <h:body>
        <f:facet name="last">
		<h:outputStylesheet name="css/mycss.css" />
	</f:facet>
        <f:view>
            <h:form>
                <p:panel header="Registracija korisnika" id="registracijaPanel">
                    <p:panelGrid columns="2" styleClass="registracijaGrid">
                        <h:outputLabel value="Username:*" for="username" />
                        <p:inputText id="username" value="#{korisnikManagedBean.korisnik.username}" title="Username" required="true" requiredMessage="Molimo Vas unesite korisničko ime!">
                            <f:validateLength minimum="3" maximum="15"/>
                        </p:inputText>
                        <h:outputLabel value="Password:*" for="password" />
                        <p:password id="password" feedback="true" value="#{korisnikManagedBean.korisnik.password}" title="Šifra" required="true"
                                    promptLabel="Šifra je prazna"
                                    weakLabel="Slabo"
                                    goodLabel="Dobro"
                                    strongLabel="Odlicna!"
                                    requiredMessage="Molimo Vas unesite šifru!">
                            <f:validateLength minimum="6" maximum="30"/>
                        </p:password>
                        <h:outputLabel value="Ime:*" for="ime" />
                        <p:inputText id="ime" value="#{korisnikManagedBean.korisnik.ime}" title="Ime" required="true" requiredMessage="Molimo Vas unesite vaše ime!"/>
                        <h:outputLabel value="Prezime:*" for="prezime" />
                        <p:inputText id="prezime" value="#{korisnikManagedBean.korisnik.prezime}" title="Prezime" required="true" requiredMessage="Molimo Vas unesite vaše prezime!"/>
                        <h:outputLabel value="Email:*" for="email" />
                        <p:inputText id="email" value="#{korisnikManagedBean.korisnik.email}" title="Email" required="true" validatorMessage="Neispravan e-mail format!" requiredMessage="Molimo Vas unesite e-mail!">
                         <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                        </p:inputText>
                        <p:commandButton value="Potvrdi" action="#{korisnikManagedBean.register()}" update="registracijaPanel"/>
                    </p:panelGrid>
                    <p:messages for="username" />
                    <p:messages for="password" />
                    <p:messages for="ime" />
                    <p:messages for="prezime" />
                    <p:messages for="email" />
                </p:panel>
            </h:form>
        </f:view>

    </h:body>
</html>

